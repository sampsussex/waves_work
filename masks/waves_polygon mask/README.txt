##### Documentation on generating WAVES polygon masks #####

The code for generating the waves mask is enclosed in this folder. You need to have installed mangle (https://space.mit.edu/~molly/mangle/) and will also need to reassign path names. Masking has the list of NGCs in (sometimes referred to as Sabines NGCS in the other docs!). The pipeline also uses stilts (topcat) but this can be changed if the output of the Gaia query is. 


First, run the python code that queries Gaia DR2 for bright stars. This also adds in the radii for each star of a given magnitude. More details are given in the python script. 

Then run the processing of the NGC's that Sabine has passed over. This reorganises them into a mangle compatible dat file. There are two things to note. 
1) Mangle will raise an error if vertices have been outlines left-handedly. This can be corrected by adding an 'r' at the start of a the given line for NGC. This occurred for 4 polygons in the run on 23-10-24 by Sam Philipsborn.
2) The first vertices in the NGC located at RA 12.76 DEC -34.048 has been removed. This was raising issues around zero area polygons generated by MANGLE. 

One more thing to note; in Sabines r script, in the wave south region, there are two additional sources to be masked out (1 GC, 1 star). This is done using the extra sources file in this folder. 

Finally, run the sh scripts for the north and the south region. These also generate randoms. 